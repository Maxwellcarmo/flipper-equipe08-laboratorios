<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Administrativo - Agenda de Laboratórios</title>
    <link rel="stylesheet" href="../css/styles.css">
    <style>
        .admin-container {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            margin-top: 1.5rem;
        }
        
        .admin-section {
            background-color: #1e293b;
            border-radius: 0.5rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .admin-section h3 {
            color: #22d3ee;
            margin-top: 0;
            margin-bottom: 1rem;
            border-bottom: 1px solid #334155;
            padding-bottom: 0.5rem;
        }
        
        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        .tab {
            padding: 0.5rem 1rem;
            background-color: #334155;
            border-radius: 0.25rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .tab.active {
            background-color: #22d3ee;
            color: #0f172a;
            font-weight: bold;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .reservas-list, .bloqueios-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .reserva-card, .bloqueio-card {
            background-color: #334155;
            border-radius: 0.5rem;
            padding: 1rem;
        }
        
        .reserva-header, .bloqueio-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .reserva-titulo, .bloqueio-titulo {
            font-size: 1.2rem;
            font-weight: bold;
            color: #f8fafc;
        }
        
        .reserva-status {
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .status-pendente {
            background-color: #fbbf24;
            color: #1e293b;
        }
        
        .reserva-info, .bloqueio-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .reserva-info-item, .bloqueio-info-item {
            display: flex;
            flex-direction: column;
        }
        
        .reserva-info-label, .bloqueio-info-label {
            font-size: 0.8rem;
            color: #94a3b8;
        }
        
        .reserva-info-value, .bloqueio-info-value {
            font-size: 1rem;
            color: #f8fafc;
        }
        
        .reserva-acoes, .bloqueio-acoes {
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
        }
        
        .filtro-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .form-bloqueio {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .form-group label {
            font-size: 0.9rem;
            color: #94a3b8;
        }
        
        .form-actions {
            grid-column: 1 / -1;
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .login-container {
            max-width: 400px;
            margin: 2rem auto;
            background-color: #1e293b;
            border-radius: 0.5rem;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .login-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .sem-itens {
            text-align: center;
            padding: 2rem;
            color: #94a3b8;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: #1e293b;
            border-radius: 0.5rem;
            padding: 1.5rem;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            border-bottom: 1px solid #334155;
            padding-bottom: 0.5rem;
        }
        
        .modal-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #22d3ee;
        }
        
        .modal-close {
            background: none;
            border: none;
            color: #94a3b8;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .modal-body {
            margin-bottom: 1.5rem;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
        }
    </style>
</head>
<body>
    <!-- Login Container -->
    <div id="login-container" class="login-container">
        <h2>Acesso Administrativo</h2>
        <form id="login-form" class="login-form">
            <div class="form-group">
                <label for="usuario">Usuário</label>
                <input type="text" id="usuario" class="input" required>
            </div>
            <div class="form-group">
                <label for="senha">Senha</label>
                <input type="password" id="senha" class="input" required>
            </div>
            <button type="submit" class="btn btn-primary">Entrar</button>
            <a href="../index.html" class="btn btn-outline">Voltar</a>
        </form>
    </div>
    
    <!-- Admin Panel (hidden initially) -->
    <div id="admin-panel" style="display: none;">
        <header>
            <div class="container">
                <h1>Agenda de Laboratórios</h1>
                <nav>
                    <ul>
                        <li><a href="#" class="active">Painel Administrativo</a></li>
                        <li><a href="#" id="btn-logout">Sair</a></li>
                    </ul>
                </nav>
            </div>
        </header>
        
        <main class="container">
            <h2>Painel Administrativo</h2>
            
            <div class="tabs">
                <div class="tab active" data-tab="reservas">Reservas Pendentes</div>
                <div class="tab" data-tab="bloqueios">Gerenciar Bloqueios</div>
                <div class="tab" data-tab="todas-reservas">Todas as Reservas</div>
            </div>
            
            <div class="admin-container">
                <!-- Reservas Pendentes Tab -->
                <div id="reservas-tab" class="tab-content active">
                    <div class="admin-section">
                        <h3>Reservas Pendentes</h3>
                        
                        <div class="filtro-container">
                            <label for="filtro-telefone-pendentes">Filtrar por telefone:</label>
                            <input type="text" id="filtro-telefone-pendentes" class="input" placeholder="Ex: 34 9 9999-9999">
                            <button id="btn-filtrar-pendentes" class="btn">Filtrar</button>
                            <button id="btn-limpar-pendentes" class="btn btn-outline">Limpar</button>
                        </div>
                        
                        <div id="reservas-pendentes-list" class="reservas-list">
                            <!-- Reservas pendentes serão carregadas dinamicamente aqui -->
                            <div class="sem-itens">
                                <p>Nenhuma reserva pendente encontrada.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Bloqueios Tab -->
                <div id="bloqueios-tab" class="tab-content">
                    <div class="admin-section">
                        <h3>Adicionar Bloqueio</h3>
                        
                        <form id="form-bloqueio" class="form-bloqueio">
                            <div class="form-group">
                                <label for="bloqueio-lab">Laboratório</label>
                                <select id="bloqueio-lab" class="input" required>
                                    <!-- Laboratórios serão carregados dinamicamente aqui -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="bloqueio-data-inicio">Data de Início</label>
                                <input type="date" id="bloqueio-data-inicio" class="input" required>
                            </div>
                            <div class="form-group">
                                <label for="bloqueio-hora-inicio">Hora de Início</label>
                                <input type="time" id="bloqueio-hora-inicio" class="input" required>
                            </div>
                            <div class="form-group">
                                <label for="bloqueio-data-fim">Data de Fim</label>
                                <input type="date" id="bloqueio-data-fim" class="input" required>
                            </div>
                            <div class="form-group">
                                <label for="bloqueio-hora-fim">Hora de Fim</label>
                                <input type="time" id="bloqueio-hora-fim" class="input" required>
                            </div>
                            <div class="form-group">
                                <label for="bloqueio-motivo">Motivo</label>
                                <input type="text" id="bloqueio-motivo" class="input" required>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">Adicionar Bloqueio</button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="admin-section">
                        <h3>Bloqueios Ativos</h3>
                        
                        <div id="bloqueios-list" class="bloqueios-list">
                            <!-- Bloqueios serão carregados dinamicamente aqui -->
                            <div class="sem-itens">
                                <p>Nenhum bloqueio encontrado.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Todas as Reservas Tab -->
                <div id="todas-reservas-tab" class="tab-content">
                    <div class="admin-section">
                        <h3>Todas as Reservas</h3>
                        
                        <div class="filtro-container">
                            <label for="filtro-telefone-todas">Filtrar por telefone:</label>
                            <input type="text" id="filtro-telefone-todas" class="input" placeholder="Ex: 34 9 9999-9999">
                            <button id="btn-filtrar-todas" class="btn">Filtrar</button>
                            <button id="btn-limpar-todas" class="btn btn-outline">Limpar</button>
                        </div>
                        
                        <div id="todas-reservas-list" class="reservas-list">
                            <!-- Todas as reservas serão carregadas dinamicamente aqui -->
                            <div class="sem-itens">
                                <p>Nenhuma reserva encontrada.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <footer>
            <div class="container">
                <p>&copy; 2025 Agenda de Laboratórios</p>
            </div>
        </footer>
    </div>
    
    <!-- Modal para negar reserva -->
    <div id="modal-negar" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Negar Reserva</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="form-negar">
                    <input type="hidden" id="reserva-id-negar">
                    <div class="form-group">
                        <label for="motivo-negacao">Motivo da Negação</label>
                        <textarea id="motivo-negacao" class="input" rows="3" required></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="btn-confirmar-negar" class="btn btn-danger">Confirmar</button>
                <button class="btn btn-outline modal-close-btn">Cancelar</button>
            </div>
        </div>
    </div>
    
    <script src="../js/api.js"></script>
    <script src="../js/admin/admin.js"></script>
</body>
</html>
